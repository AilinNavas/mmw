{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ailin/OneDrive/Escritorio/Mis%20Proyectos/mucho-marketing-landing-page/components/animatedBackground.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useRef } from \"react\";\r\nimport { useScroll } from \"framer-motion\";\r\n\r\n/**\r\n * AnimatedBackground: Canvas-based soft green lights with scroll reaction.\r\n * - Color brand: #65cf72\r\n * - Low CPU by using a moderate particle count and requestAnimationFrame\r\n * - Respects prefers-reduced-motion\r\n *\r\n * Props you can adapt: particleCount, baseRadius, speedMultiplier\r\n */\r\nexport default function AnimatedBackground({\r\n  particleCount = 24,\r\n  baseRadius = 60,\r\n  speedMultiplier = 1.0,\r\n}: {\r\n  particleCount?: number;\r\n  baseRadius?: number;\r\n  speedMultiplier?: number;\r\n}) {\r\n  const canvasRef = useRef<HTMLCanvasElement | null>(null);\r\n  const rafRef = useRef<number | null>(null);\r\n  const lightsRef = useRef<any[]>([]);\r\n  const intensityRef = useRef<number>(0.6); // base intensity, 0..1\r\n  const { scrollYProgress } = useScroll();\r\n  console.log(\"Canvas ref:\", canvasRef.current);\r\n\r\n  useEffect(() => {\r\n    // respect user preference for reduced motion\r\n    const reduceMotion = typeof window !== \"undefined\" && window.matchMedia(\"(prefers-reduced-motion: reduce)\").matches;\r\n    if (reduceMotion) return; // do not start animation\r\n\r\n    const canvas = canvasRef.current!;\r\n    if (!canvas) return;\r\n    const ctx = canvas.getContext(\"2d\", { alpha: true })!;\r\n    let w = (canvas.width = window.innerWidth);\r\n    let h = (canvas.height = window.innerHeight);\r\n\r\n    // brand color (can be customized)\r\n    const brandR = 101; // #65cf72 -> rgb(101, 207, 114)\r\n    const brandG = 207;\r\n    const brandB = 114;\r\n\r\n    // create lights\r\n    const lights = Array.from({ length: particleCount }).map(() => ({\r\n      x: Math.random() * w,\r\n      y: Math.random() * h,\r\n      r: baseRadius * (0.6 + Math.random() * 1.1), // radius\r\n      dx: (-0.15 + Math.random() * 0.3) * (0.6 + Math.random() * 0.8) * speedMultiplier,\r\n      dy: (-0.12 + Math.random() * 0.24) * (0.6 + Math.random() * 0.8) * speedMultiplier,\r\n      baseOpacity: 0.03 + Math.random() * 0.08,\r\n      phase: Math.random() * Math.PI * 2, // for gentle pulse\r\n      pulseSpeed: 0.001 + Math.random() * 0.004,\r\n    }));\r\n\r\n    lightsRef.current = lights;\r\n\r\n    // use 'lighter' for additive glow\r\n    ctx.globalCompositeOperation = \"lighter\";\r\n\r\n    // handle scroll -> increase intensity as user scrolls down\r\n    const unsub = scrollYProgress.onChange((v) => {\r\n      // v is 0..1, map to intensity 0.3..1.2\r\n      const mapped = 0.3 + v * 0.9;\r\n      intensityRef.current = mapped;\r\n    });\r\n\r\n    // animation loop\r\n    const animate = (t: number) => {\r\n      // clear with slight transparent black to create softer trails\r\n      ctx.clearRect(0, 0, w, h);\r\n\r\n      // for retina displays scale appropriately (canvas width/height already set)\r\n      for (let i = 0; i < lights.length; i++) {\r\n        const L = lights[i];\r\n\r\n        // gentle pulsation\r\n        L.phase += L.pulseSpeed * (1 + (Math.sin(t * 0.0008 + i) * 0.5));\r\n        const pulse = 0.8 + Math.sin(L.phase) * 0.2;\r\n\r\n        const opacity = L.baseOpacity * pulse * intensityRef.current;\r\n\r\n        // draw radial gradient for soft glow\r\n        const grd = ctx.createRadialGradient(L.x, L.y, 0, L.x, L.y, L.r);\r\n        grd.addColorStop(0, `rgba(${brandR}, ${brandG}, ${brandB}, ${Math.min(0.45, opacity * 1.2)})`);\r\n        grd.addColorStop(0.3, `rgba(${brandR}, ${brandG}, ${brandB}, ${Math.min(0.18, opacity * 0.5)})`);\r\n        grd.addColorStop(1, `rgba(${brandR}, ${brandG}, ${brandB}, 0)`);\r\n\r\n        ctx.beginPath();\r\n        ctx.fillStyle = grd;\r\n        // shadow adds stronger glow on some browsers\r\n        ctx.shadowBlur = 40 * (0.6 + intensityRef.current * 0.6);\r\n        ctx.shadowColor = `rgba(${brandR}, ${brandG}, ${brandB}, ${Math.min(0.55, opacity)})`;\r\n        ctx.arc(L.x, L.y, L.r * (0.6 + pulse * 0.6), 0, Math.PI * 2);\r\n        ctx.fill();\r\n\r\n        // advance\r\n        L.x += L.dx * (0.4 + intensityRef.current * 0.9);\r\n        L.y += L.dy * (0.4 + intensityRef.current * 0.9);\r\n\r\n        // wrap around edges so lights never disappear abruptly\r\n        if (L.x < -L.r) L.x = w + L.r;\r\n        if (L.x > w + L.r) L.x = -L.r;\r\n        if (L.y < -L.r) L.y = h + L.r;\r\n        if (L.y > h + L.r) L.y = -L.r;\r\n      }\r\n\r\n      rafRef.current = requestAnimationFrame(animate);\r\n    };\r\n\r\n    rafRef.current = requestAnimationFrame(animate);\r\n\r\n    // handle resize\r\n    const onResize = () => {\r\n      w = canvas.width = window.innerWidth;\r\n      h = canvas.height = window.innerHeight;\r\n      // reposition lights inside new bounds\r\n      lights.forEach((L) => {\r\n        if (L.x > w) L.x = Math.random() * w;\r\n        if (L.y > h) L.y = Math.random() * h;\r\n      });\r\n    };\r\n    window.addEventListener(\"resize\", onResize);\r\n\r\n    return () => {\r\n      unsub && unsub();\r\n      window.removeEventListener(\"resize\", onResize);\r\n      if (rafRef.current) cancelAnimationFrame(rafRef.current);\r\n    };\r\n  }, [particleCount, baseRadius, speedMultiplier, scrollYProgress]);\r\n\r\n  // canvas has pointer-events-none so it doesn't block interactions\r\n  return (\r\n    <canvas\r\n      ref={canvasRef}\r\n      className=\"fixed inset-0 -z-10 w-full h-full pointer-events-none\"\r\n      aria-hidden\r\n    />\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}